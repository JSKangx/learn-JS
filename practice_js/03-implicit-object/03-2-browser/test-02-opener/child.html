<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script>
      function getParentData() {
        // 부모 창에 선언된 변수에 접근하여 이 창의 log에 찍어보자.
        console.log("This is child log", opener.parentData, opener.parentData2);
        // 부모 창에 정의된 함수에 접근하여 부모 창에서 실행.
        opener.parentFunc();
      }

      // 자식 창에서 선언한 변수, 함수
      var childData1 = 20;
      function childFunc() {
        console.log("childFunc is called.");
      }
      // 부모 창에서 자식 창에 있는 데이터에 접근하려면 먼저 자식 창 자체에서 이렇게 실행해줘야 한다.
      opener.child = this;
      /* "
        부모창에서 'opener.child'라는 단어를 쓸건데, 그건 this(이 페이지)야."
        'child'는 개발자가 임의로 설정한 이름이다.
      */

      /* 
        부모 창을 특정 url로 이동시키는 함수
        예) 새 창에서 로그인 성공하면, 부모 창을 로그인 성공 페이지로 이동
      */
      function myClose() {
        // 부모창을 이동시킴 (부모창은 자동으로 opener로 등록된다)
        opener.location.href = "http://www.naver.com";
        // 현재 창을 닫음
        window.close();
      }
    </script>
  </head>
  <body>
    <h1>I am a Child Page!!!</h1>
    <button onclick="getParentData()">get Parent Data</button>
    <button onclick="myClose()">Close</button>
  </body>
</html>
